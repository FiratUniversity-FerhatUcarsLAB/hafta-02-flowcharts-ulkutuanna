digraph AkilliEvGuvenlikSistemi {
    rankdir=TB;
    node [shape=box, fontname="Arial"];
    
    // Başlangıç ve Bitiş
    Basla [shape=oval, label="BAŞLA"];
    
    // 1. Sonsuz Döngü
    SonsuzDongu [shape=box, label="DÖNGÜ: DOĞRU (7/24)"];
    
    // 2. Sensör Verilerini Oku
    SensorOku [shape=box, label="SENSÖRLERİ OKU"];
    
    // 3. Tehdit Kontrolleri
    Tehdit1 [shape=diamond, label="Hareket Algılandı mı?"];
    Tehdit2 [shape=diamond, label="Sıcaklık 50°C üstünde mi?"];
    Tehdit3 [shape=diamond, label="Kapı Açık mı?"];
    
    // 4. Aksiyonlar
    HafifTehdit [shape=box, label="BİLDİRİM GÖNDER"];
    OrtaTehdit [shape=box, label="UYARI VE BİLDİRİM GÖNDER"];
    CiddiTehdit [shape=box, label="ALARM ÇALIŞTIR VE BİLDİRİM GÖNDER"];
    
    // Alarm Sıfırlama Döngüsü
    AlarmSifirlamaDongusu [shape=box, label="DÖNGÜ: Alarm Sıfırlama Komutu Gelene Kadar"];
    
    // Akış Bağlantıları
    Basla -> SonsuzDongu;
    SonsuzDongu -> SensorOku;
    SensorOku -> Tehdit1;
    
    Tehdit1 -> HafifTehdit [label="EVET"];
    Tehdit1 -> Tehdit2 [label="HAYIR"];
    
    HafifTehdit -> Tehdit2;
    
    Tehdit2 -> OrtaTehdit [label="EVET"];
    Tehdit2 -> Tehdit3 [label="HAYIR"];
    
    OrtaTehdit -> Tehdit3;
    
    Tehdit3 -> CiddiTehdit [label="EVET"];
    Tehdit3 -> SonsuzDongu [label="HAYIR\n(Sürekli)"];
    
    CiddiTehdit -> AlarmSifirlamaDongusu;
    AlarmSifirlamaDongusu -> SonsuzDongu [label="Sıfırlama Komutu Geldi"];
}
