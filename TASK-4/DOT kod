digraph DersKayitSistemi {
    rankdir=TB;
    node [shape=box, fontname="Arial"];
    
    // Başlangıç ve Bitiş
    Basla [shape=oval, label="BAŞLA"];
    Bitir [shape=oval, label="BİTİR"];
    
    // 1. Giriş ve Yetkilendirme
    GirisBilgisi [shape=parallelogram, label="OKU Öğrenci No, Şifre"];
    GirisKontrol [shape=diamond, label="Kimlik Doğru mu?"];
    DonemKontrol [shape=diamond, label="Ders Kayıt Dönemi\nAçık mı?"];
    
    // 2. Ders Seçim Döngüsü
    SecimDongusu [shape=box, label="DÖNGÜ: Ders Seçimi Yapılıyor mu?"];
    DersKodu [shape=parallelogram, label="OKU Seçilen Ders Kodu"];
    DersMevcut [shape=diamond, label="Ders Mevcut mu?"];
    KontenjanKontrol [shape=diamond, label="Kontenjan Dolu mu?"];
    OnKosulKontrol [shape=diamond, label="Ön Koşullar Sağlandı mı?"];
    ZamanCakismasi [shape=diamond, label="Zaman Çakışması Var mı?"];
    KrediLimitiKontrol [shape=diamond, label="Kredi Limiti\nAşılıyor mu?"];
    
    // 3. Ders Ekleme ve Onay
    DersEkle [shape=box, label="Ders Listesine Ekle"];
    DanismanOnay [shape=diamond, label="Danışman Onayı\nAlındı mı?"];
    DersKesinlestir [shape=box, label="Ders Kaydını\nKesinleştir"];
    
    // Hata ve Mesaj Düğümleri
    HataGiris [shape=box, label="YAZ 'Hatalı Giriş'"];
    HataDonem [shape=box, label="YAZ 'Dönem Kapalı'"];
    HataDersYok [shape=box, label="YAZ 'Geçersiz Ders Kodu'"];
    HataKontenjan [shape=box, label="YAZ 'Kontenjan Dolu'"];
    HataOnKosul [shape=box, label="YAZ 'Ön Koşul Sağlanmadı'"];
    HataCakis [shape=box, label="YAZ 'Saat Çakışması Var'"];
    HataKredi [shape=box, label="YAZ 'Kredi Limiti Aşıldı'"];
    HataOnay [shape=box, label="YAZ 'Onay Reddedildi'"];
    BasariliMesaj [shape=box, label="YAZ 'Kayıt Başarılı'"];

    // Akış Bağlantıları
    Basla -> GirisBilgisi;
    GirisBilgisi -> GirisKontrol;
    
    GirisKontrol -> DonemKontrol [label="EVET"];
    GirisKontrol -> HataGiris [label="HAYIR"];
    HataGiris -> Bitir;
    
    DonemKontrol -> SecimDongusu [label="EVET"];
    DonemKontrol -> HataDonem [label="HAYIR"];
    HataDonem -> Bitir;
    
    SecimDongusu -> DersKodu;
    DersKodu -> DersMevcut;
    
    DersMevcut -> KontenjanKontrol [label="EVET"];
    DersMevcut -> HataDersYok [label="HAYIR"];
    HataDersYok -> SecimDongusu;
    
    KontenjanKontrol -> OnKosulKontrol [label="HAYIR"];
    KontenjanKontrol -> HataKontenjan [label="EVET"];
    HataKontenjan -> SecimDongusu;
    
    OnKosulKontrol -> ZamanCakismasi [label="EVET"];
    OnKosulKontrol -> HataOnKosul [label="HAYIR"];
    HataOnKosul -> SecimDongusu;
    
    ZamanCakismasi -> KrediLimitiKontrol [label="HAYIR"];
    ZamanCakismasi -> HataCakis [label="EVET"];
    HataCakis -> SecimDongusu;
    
    KrediLimitiKontrol -> DersEkle [label="HAYIR"];
    KrediLimitiKontrol -> HataKredi [label="EVET"];
    HataKredi -> SecimDongusu;
    
    DersEkle -> SecimDongusu;
    
    SecimDongusu -> DanismanOnay [label="Döngü Bitti"];
    
    DanismanOnay -> DersKesinlestir [label="EVET"];
    DanismanOnay -> HataOnay [label="HAYIR"];
    
    DersKesinlestir -> BasariliMesaj;
    BasariliMesaj -> Bitir;
    HataOnay -> Bitir;
}
